<?php

$paywall = get_field('select_paywall');
$paywallheading = get_sub_field('paywall_heading');
$paywallparagraph = get_sub_field('paywall_paragraph');

<<<<<<< HEAD
    <?php if ( is_singular('services') ) :?>

      <div class="bx--grid section-content__outer sticky-container">
        <div class="bx--row">

            <div class="section-content">

              <!-- Sticky Bar-->
              <?php  include( get_template_directory() . '/phtml/sections/flexible-content/sticky-bar.phtml');?>

    <?php elseif (is_singular('consultants') ) :?>

      <div class="bx--grid section-content__outer sticky-container">
        <div class="bx--row">

            <div class="section-content">

              <!-- Sticky Bar-->
              <?php  include( get_template_directory() . '/phtml/sections/flexible-content/sticky-bar.phtml');?>

    <?php elseif (is_singular('post') ) :?>

      <div class="bx--grid section-content__outer sticky-container">
        <div class="bx--row">

            <div class="section-content">

              <!-- Sticky Bar-->
              <?php  include( get_template_directory() . '/phtml/sections/flexible-content/sticky-bar.phtml');?>

    <?php endif; ?>
    <?php
 	// loop through the rows of data
    while ( have_rows('flexible_content') ) : the_row();

              // Ingress
              if ( get_row_layout() == 'ingress' ):

                // vars
								$text = get_sub_field('text');

							?>
              <div class="ingress">
                <p class="bx--type-beta__paragraph"><?= $text ?></p>
              </div>

        <?php
              // H2 - Section
              elseif ( get_row_layout() == 'h2_section' ):

                // vars
                $heading = get_sub_field('heading');
                $paragraph = get_sub_field('paragraph', false, false);

              ?>

              <div class="h2-section">
                <h2><?= $heading ?></h2>
                <p class="bx--type-delta__paragraph"><?= $paragraph ?></p>
              </div>

	      <?php
							// H3 - Section
			        elseif ( get_row_layout() == 'h3_section' ):

								// vars
								$heading = get_sub_field('heading');
								$paragraph = get_sub_field('paragraph', false, false);

							?>

              <div class="h3-section">
                <h3><?= $heading ?></h3>
                <p class="bx--type-delta__paragraph"><?= $paragraph ?></p>
              </div>

				<?php
							// H4 - Section
			        elseif ( get_row_layout() == 'h4_section' ):

								// vars
								$heading = get_sub_field('heading');
								$paragraph = get_sub_field('paragraph', false, false);

							?>

              <div class="h4-section">
                <h4 class="bx--type-gamma__subheading heading"><?= $heading ?></h4>
                <p class="bx--type-delta__paragraph"><?= $paragraph ?></p>
              </div>

				<?php
							// H5 - Section
							elseif ( get_row_layout() == 'h5_section' ):

								// vars
								$heading = get_sub_field('heading');
								$paragraph = get_sub_field('paragraph', false, false);

							?>

              <div class="h5-section">
                <h5 class="bx--type-delta__subheading heading"><?= $heading ?></h5>
                <p class="bx--type-delta__paragraph"><?= $paragraph ?></p>
              </div>

        <?php
							// H5 - Section
							elseif ( get_row_layout() == 'paragraph' ):

								// vars
								$paragraph = get_sub_field('paragraph', false, false);

							?>

              <div class="paragraph">
                <p class="bx--type-delta__paragraph"><?= $paragraph ?></p>
              </div>

        <?php
              // Image
              elseif ( get_row_layout() == 'image' ):

                // vars
								$src = get_sub_field('image_src');
                $caption = get_sub_field('caption');
              ?>
              <div class="component--image">
                <?=  add_image($src, 'g_south,q_70,c_fill,w_720', $class) ?>
                <p class="image--caption bx--type-epsilon"> <?= $caption ?></p>
              </div>

				<?php
              // Soft CTA
              elseif ( get_row_layout() == 'soft-cta' ):
=======
?>
>>>>>>> feature/typography-colors

<section class="flexible-content post <?php echo $paywall ? 'paywall' : ''; ?>">

  <?php if ( $paywall == 2 ): ?>
    <div class="paywall-container">
      <!-- Paywall Form -->
      <?php  include( get_template_directory() . '/phtml/sections/contact-form/contact-form--paywall.phtml');?>
    </div>
  <?php endif; ?>

    <!-- Sticky Bar-->
    <?php  include( get_template_directory() . '/phtml/sections/flexible-content/sticky-bar.phtml');?>

      <?php if( have_rows('flexible_content') ): ?>

            <?php while ( have_rows('flexible_content') ) : the_row(); ?>


                  <?php if ( get_row_layout() == 'text_section' ): ?>

                        <!-- Text Section Component -->
                        <?php  include( get_template_directory() . '/phtml/sections/flexible-content/components/text-section.phtml');?>


                  <?php elseif ( get_row_layout() == 'image' ): ?>

                        <!-- Image Component -->
                        <?php  include( get_template_directory() . '/phtml/sections/flexible-content/components/image.phtml');?>


                  <?php elseif ( get_row_layout() == 'background_image' ): ?>


                        <!-- Background Image Component -->
                        <?php  include( get_template_directory() . '/phtml/sections/flexible-content/components/background-image.phtml');?>


                  <?php elseif ( get_row_layout() == 'social_proof' ): ?>

                        <!-- Social Proof Component -->
                        <?php  include( get_template_directory() . '/phtml/sections/flexible-content/components/social-proof.phtml');?>


                  <?php elseif ( get_row_layout() == 'key_values' ): ?>

                        <!-- Key Values Component -->
                        <?php  include( get_template_directory() . '/phtml/sections/flexible-content/components/key-values.phtml');?>


                  <?php elseif ( get_row_layout() == 'soft_cta' ): ?>

                        <!-- Soft-CTA Component -->
                        <?php  include( get_template_directory() . '/phtml/sections/flexible-content/components/soft-cta.phtml');?>


                  <?php elseif ( get_row_layout() == 'quote' ): ?>

                        <!-- Quote Component -->
                        <?php  include( get_template_directory() . '/phtml/sections/flexible-content/components/quote.phtml');?>

<<<<<<< HEAD
                <?php elseif ($contactform == '2'): // Juristcase ?>
=======
>>>>>>> feature/typography-colors

                  <?php elseif ( get_row_layout() == 'faq' ): ?>

<<<<<<< HEAD
                <?php elseif ($contactform == '3'): // Tuv Nord Case ?>

                  <?php include( get_template_directory() . '/phtml/sections/contact-form/contact-form--whitepaper-tuvnord.phtml'); ?>

                <?php endif; ?>
=======
                        <!-- Accordion Component -->
                        <?php  include( get_template_directory() . '/phtml/sections/flexible-content/components/faq.phtml');?>
>>>>>>> feature/typography-colors


                  <?php elseif ( get_row_layout() == 'contact_form' ): ?>

                        <!-- Contact Form Component -->
                        <?php  include( get_template_directory() . '/phtml/sections/flexible-content/components/contact-form.phtml');?>


                  <?php endif; // End layouts ?>

            <?php endwhile; // End flexible_content ?>

          <?php endif; // End layouts ?>

</section>
